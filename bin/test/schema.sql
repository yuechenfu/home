-- MySQL Script generated by MySQL Workbench
-- Mon Mar  4 11:21:33 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

-- -----------------------------------------------------
-- Schema autossav
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `vehicle`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `vehicle` ;

CREATE TABLE IF NOT EXISTS `vehicle` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `groupId` INT NOT NULL,
  `name` VARCHAR(50) NOT NULL,
  `year` VARCHAR(20) ,
  `make` VARCHAR(100)  ,
  `model` VARCHAR(100)  ,
  `status` VARCHAR(20) NOT NULL,
  `type` VARCHAR(20) ,
  `vin` VARCHAR(17) NOT NULL,
  `plate` VARCHAR(10) NOT NULL,
  `rental` TINYINT(1) NOT NULL,
  `imgsrc` VARCHAR(200) NOT NULL,
  `odometer` INT NOT NULL,
  `createAt` datetime NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `person`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `person` ;

CREATE TABLE IF NOT EXISTS `person` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `firstName` VARCHAR(50) NOT NULL,
  `lastName` VARCHAR(50) NOT NULL,
  `phone` VARCHAR(50) NOT NULL,
  `email` VARCHAR(200) NOT NULL,
  `driverLicense` VARCHAR(50) NOT NULL,
  `groupId` INT NOT NULL,
  `type` VARCHAR(10) NOT NULL,
  `imgsrc` VARCHAR(200) NOT NULL,
  `createAt` datetime NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `exam`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `exam` ;

CREATE TABLE IF NOT EXISTS `exam` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NOT NULL,
  `content` VARCHAR(200) NOT NULL,
  `type` VARCHAR(10) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `inspection`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `inspection` ;

CREATE TABLE IF NOT EXISTS `inspection` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `vehicleId` INT NOT NULL,
  `driverId` INT NOT NULL,
  `autosaveId` INT NOT NULL,
  `addressId` INT NOT NULL,
  `date` VARCHAR(26) NOT NULL,
  `odometer` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `content` VARCHAR(1000) NOT NULL,
  `status` VARCHAR(10) NOT NULL,
  `tax` DECIMAL(4,2) NOT NULL,
  `createAt` datetime NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `issue`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `issue` ;

CREATE TABLE IF NOT EXISTS `issue` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `vehicleId` INT NOT NULL,
  `driverId` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `content` VARCHAR(1000) NOT NULL,
  `apptMinDate` VARCHAR(60) NOT NULL,
  `apptMaxDate` VARCHAR(60) NOT NULL,
  `status` VARCHAR(10) NOT NULL,
  `odometer` INT NOT NULL,
  `lon` FLOAT NOT NULL,
  `lat` FLOAT NOT NULL,
  `tax` DECIMAL(4,2) NOT NULL,
  `createAt` datetime NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `quote`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `quote` ;

CREATE TABLE IF NOT EXISTS `quote` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `problemId` INT NOT NULL,
  `name` VARCHAR(50) NOT NULL,
  `labor` DECIMAL(10,2) NOT NULL,
  `part` DECIMAL(10,2) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `problem`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `problem` ;

CREATE TABLE IF NOT EXISTS `problem` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `relateId` INT NOT NULL,
  `type` VARCHAR(10) NOT NULL,
  `vehicleId` INT NOT NULL,
  `remark` VARCHAR(200) NOT NULL,
  `examId` INT NOT NULL,
  `imgsrc1` VARCHAR(200) NOT NULL,
  `imgsrc2` VARCHAR(200) NOT NULL,
  `imgsrc3` VARCHAR(200) NOT NULL,
  `imgsrc4` VARCHAR(200) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `odometer`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `odometer` ;

CREATE TABLE IF NOT EXISTS `odometer` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `relateId` INT NOT NULL,
  `type` VARCHAR(15) NOT NULL,
  `vehicleId` INT NOT NULL,
  `mi` INT NOT NULL,
  `date` VARCHAR(30) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `vehicleGroup`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `vehicleGroup` ;

CREATE TABLE IF NOT EXISTS `vehicleGroup` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(50) NOT NULL,
  `content` VARCHAR(1000) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `vehicleDriverRelate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `vehicleDriverRelate` ;

CREATE TABLE IF NOT EXISTS `vehicleDriverRelate` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `vehicleId` INT NOT NULL,
  `driverId` INT NOT NULL,
  `onDate` VARCHAR(26) NOT NULL,
  `offDate` VARCHAR(26) NOT NULL,
  `onOdometer` VARCHAR(10) NOT NULL,
  `offOdometer` VARCHAR(10) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `plan`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `plan` ;

CREATE TABLE IF NOT EXISTS `plan` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `vehicleId` INT NOT NULL,
  `addressId` INT NOT NULL,
  `day` INT NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `reminder`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `reminder` ;

CREATE TABLE IF NOT EXISTS `reminder` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `vehicleId` INT NOT NULL,
  `inspectionId` INT NOT NULL,
  `content` VARCHAR(200) NOT NULL,
  `type` VARCHAR(20) NOT NULL,
  `createAt` datetime NOT NULL,
  `updateAt` datetime NOT NULL,
  `date` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `personGroup`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `personGroup` ;

CREATE TABLE IF NOT EXISTS `personGroup` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `type` VARCHAR(10) NOT NULL,
  `name` VARCHAR(50) NOT NULL,
  `dashboard` VARCHAR(20) NOT NULL,
  `inspection` VARCHAR(50) NOT NULL,
  `issues` VARCHAR(50) NOT NULL,
  `exam` VARCHAR(50) NOT NULL,
  `vehicle` VARCHAR(50) NOT NULL,
  `person` VARCHAR(50) NOT NULL,
  `invoice` VARCHAR(50) NOT NULL,
  `setting` VARCHAR(50) NOT NULL,
  `notification` VARCHAR(50) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `invoicePlatform`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `invoicePlatform` ;

CREATE TABLE IF NOT EXISTS `invoicePlatform` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `price` DECIMAL(10,2) NOT NULL,
  `date` VARCHAR(26) NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `invoiceExam`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `invoiceExam` ;

CREATE TABLE IF NOT EXISTS `invoiceExam` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `price` DECIMAL(10,2) NOT NULL,
  `date` VARCHAR(26) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `login`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `login` ;

CREATE TABLE IF NOT EXISTS `login` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `personId` INT NOT NULL,
  `date` VARCHAR(25) NOT NULL,
  `ip` VARCHAR(50) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `address`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `address` ;

CREATE TABLE IF NOT EXISTS `address` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(50) NOT NULL,
  `content` VARCHAR(200) NOT NULL,
  `updateAt` DATETIME NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `tutorial`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tutorial` ;

CREATE TABLE IF NOT EXISTS `tutorial` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(50) NOT NULL,
  `filesrc` VARCHAR(300) NOT NULL,
  `type` VARCHAR(10) NOT NULL,
  `updateAt` DATETIME NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sendRecord`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `pushRecord` ;

CREATE TABLE IF NOT EXISTS `pushRecord` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `type` VARCHAR(30)  NOT NULL  ,
  `relateId` INT  ,
  `unread` tinyint(2) NOT NULL DEFAULT 1,
  `personId` INT NOT NULL,
  `data` VARCHAR(2000) DEFAULT NULL,
  `status` VARCHAR(10) NOT NULL,
  `updateAt` datetime NOT NULL,
  `createAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `invoiceExamQuote`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `invoiceExamQuote` ;

CREATE TABLE IF NOT EXISTS `invoiceExamQuote` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `invoiceExamId` INT NOT NULL,
  `name` VARCHAR(50) NOT NULL,
  `labor` DECIMAL(10,2) NOT NULL,
  `part` DECIMAL(10,2) NOT NULL,
  `tax` DECIMAL(10,2) NOT NULL,
  `updateAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `securityCode`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `securityCode` ;

CREATE TABLE IF NOT EXISTS `securityCode` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100),
  `code` VARCHAR(10) NOT NULL,
  `type` VARCHAR(20) NOT NULL,
  `status` VARCHAR(20) NOT NULL,
  `updateAt` datetime NOT NULL,
  `createAt` datetime NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;
